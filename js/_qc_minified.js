var qcodo={initialize:function(){this.isBrowser=function(a){return a&qcodo._intBrowserType};this.IE=1;this.IE_6_0=2;this.IE_7_0=4;this.IE_8_0=8;this.IE_9_0=16;this.FIREFOX=32;this.FIREFOX_1_0=64;this.FIREFOX_1_5=128;this.FIREFOX_2_0=256;this.FIREFOX_3_0=512;this.FIREFOX_3_5=1024;this.FIREFOX_4=2048;this.SAFARI=4096;this.SAFARI_2_0=8192;this.SAFARI_3_0=16384;this.SAFARI_4_0=32768;this.SAFARI_5_0=65536;this.CHROME=131072;this.CHROME_2_0=262144;this.CHROME_3_0=524288;this.CHROME_4_0=1048576;this.CHROME_5_0=
2097152;this.MACINTOSH=4194304;this.IPHONE=8388608;this.UNSUPPORTED=16777216;if(0<=navigator.userAgent.toLowerCase().indexOf("msie"))this._intBrowserType=this.IE,0<=navigator.userAgent.toLowerCase().indexOf("msie 6.0")?this._intBrowserType|=this.IE_6_0:0<=navigator.userAgent.toLowerCase().indexOf("msie 7.0")?this._intBrowserType|=this.IE_7_0:0<=navigator.userAgent.toLowerCase().indexOf("msie 8.0")?this._intBrowserType|=this.IE_8_0:0<=navigator.userAgent.toLowerCase().indexOf("msie 9.0")?this._intBrowserType|=
this.IE_9_0:this._intBrowserType|=this.UNSUPPORTED;else if(0<=navigator.userAgent.toLowerCase().indexOf("firefox")||0<=navigator.userAgent.toLowerCase().indexOf("iceweasel")){this._intBrowserType=this.FIREFOX;var a=navigator.userAgent.toLowerCase(),a=a.replace("iceweasel/","firefox/");0<=a.indexOf("firefox/1.0")?this._intBrowserType|=this.FIREFOX_1_0:0<=a.indexOf("firefox/1.5")?this._intBrowserType|=this.FIREFOX_1_5:0<=a.indexOf("firefox/2.0")?this._intBrowserType|=this.FIREFOX_2_0:0<=a.indexOf("firefox/3.0")?
this._intBrowserType|=this.FIREFOX_3_0:0<=a.indexOf("firefox/3.5")?this._intBrowserType|=this.FIREFOX_3_5:0<=a.indexOf("firefox/4.0")?this._intBrowserType|=this.FIREFOX_4_0:this._intBrowserType|=this.UNSUPPORTED}else 0<=navigator.userAgent.toLowerCase().indexOf("chrome")?(this._intBrowserType=this.CHROME,this._intBrowserType|=this.UNSUPPORTED,0<=navigator.userAgent.toLowerCase().indexOf("chrome/2.")?this._intBrowserType|=this.CHROME_2_0:0<=navigator.userAgent.toLowerCase().indexOf("chrome/3.")?this._intBrowserType|=
this.CHROME_3_0:0<=navigator.userAgent.toLowerCase().indexOf("chrome/4.")?this._intBrowserType|=this.CHROME_4_0:0<=navigator.userAgent.toLowerCase().indexOf("chrome/5.")?this._intBrowserType|=this.CHROME_5_0:this._intBrowserType|=this.UNSUPPORTED):0<=navigator.userAgent.toLowerCase().indexOf("safari")?(this._intBrowserType=this.SAFARI,0<=navigator.userAgent.toLowerCase().indexOf("safari/41")?this._intBrowserType|=this.SAFARI_2_0:0<=navigator.userAgent.toLowerCase().indexOf("version/3.")?this._intBrowserType|=
this.SAFARI_3_0:0<=navigator.userAgent.toLowerCase().indexOf("version/4.")?this._intBrowserType|=this.SAFARI_4_0:0<=navigator.userAgent.toLowerCase().indexOf("version/5.")?this._intBrowserType|=this.SAFARI_5_0:this._intBrowserType|=this.UNSUPPORTED):this._intBrowserType=this.UNSUPPORTED;0<=navigator.userAgent.toLowerCase().indexOf("macintosh")&&(this._intBrowserType|=this.MACINTOSH);0<=navigator.userAgent.toLowerCase().indexOf("iphone")&&(this._intBrowserType|=this.IPHONE);this.loadJavaScriptFile=
function(a,d){a=qc.jsAssets+"/"+a;var c=document.createElement("script");c.setAttribute("type","text/javascript");c.setAttribute("src",a);document.getElementById(document.getElementById("Qform__FormId").value).appendChild(c);qc.isBrowser(qcodo.IE)?(c.callOnLoad=d,c.onreadystatechange=function(){("complete"==this.readyState||"loaded"==this.readyState)&&this.callOnLoad&&this.callOnLoad()}):c.onload=d};this.loadStyleSheetFile=function(a,d){a=qc.cssAssets+"/"+a;if(qc.isBrowser(qcodo.IE))var c=document.createStyleSheet(a);
else c=document.createElement("style"),c.setAttribute("type","text/css"),c.setAttribute("media",d),c.innerHTML='@import "'+a+'";',document.body.appendChild(c)};this.registerForm=function(a,d){var c=document.getElementById(a);this.registerFormHiddenElement("Qform__FormId",c,document);this.registerFormHiddenElement("Qform__FormState",c,document);this.registerFormHiddenElement("Qform__FormControl",c,document);this.registerFormHiddenElement("Qform__FormEvent",c,document);this.registerFormHiddenElement("Qform__FormParameter",
c,document);this.registerFormHiddenElement("Qform__FormCallType",c,document);this.registerFormHiddenElement("Qform__FormUpdates",c,document);this.registerFormHiddenElement("Qform__FormCheckableControls",c,document);document.getElementById("Qform__FormId").value=a;document.getElementById("Qform__FormState").value=d};this.registerFormHiddenElement=function(a,d,c){c=c.createElement("input");c.type="hidden";c.id=a;c.name=a;d.appendChild(c)};this.wrappers=[];this.registerAssetLocations=function(a,d,c,
e){qc.jsAssets=a;qc.phpAssets=d;qc.cssAssets=c;qc.imageAssets=e};this.processHashControlId=this.processHashIntervalId=this.processHashCurrent=null;this.registerHashProcessor=function(a,d){qc.processHashCurrent=null;qc.processHashControlId=a;"onhashchange"in window&&7!=document.documentMode?window.onhashchange=this.processHash:this.processHashIntervalId=setInterval("qc.processHash();",d);this.processHash()};this.processHash=function(){var a=new String(document.location);if(qc.processHashCurrent!=a.toString()){qc.processHashCurrent=
a.toString();var a=document.getElementById("Qform__FormId").value,d=qc.getHashContent();qc.pA(a,qc.processHashControlId,"QClickEvent",d,null)}};this.getHashContent=function(){var a=qc.processHashCurrent.indexOf("#"),d="";0<a&&(d=qc.processHashCurrent.substring(a+1));return d};this.clearHashProcessor=function(){"onhashchange"in window&&(window.onhashchange=null);this.processHashIntervalId&&clearInterval(this.processHashIntervalId)};this.registerPollingProcessor=function(a,d){setTimeout("qc.processPolling('"+
a+"');",d)};this.processPolling=function(a){var d=document.getElementById("Qform__FormId").value;qc.pA(d,a,"QClickEvent")};this.enableMouseDrag=function(){document.onmousedown=qcodo.handleMouseDown;document.onmousemove=qcodo.handleMouseMove;document.onmouseup=qcodo.handleMouseUp};this.handleMouseDown=function(a){a=qcodo.handleEvent(a);var d=qcodo.target;if(!d)return!0;var c=d.wrapper;if(!c)return!0;if(qcodo.mouse.left&&c.handleMouseDown)return d.setCapture&&d.setCapture(),d.onmouseout=null,document.selection&&
document.selection.empty(),qcodo.currentMouseHandleControl=c,c.handleMouseDown(a,d);qcodo.currentMouseHandleControl=null;return!0};this.handleMouseMove=function(a){a=qcodo.handleEvent(a);if(qcodo.currentMouseHandleControl){var d=qcodo.currentMouseHandleControl,c=d.handle;document.selection&&document.selection.empty();if(d.handleMouseMove)return d.handleMouseMove(a,c)}return!0};this.handleMouseUp=function(a){a=qcodo.handleEvent(a);if(qcodo.currentMouseHandleControl){var d=qcodo.currentMouseHandleControl,
c=d.handle;document.selection&&document.selection.empty();c.releaseCapture&&(c.releaseCapture(),c.onmouseout=function(){this.releaseCapture()});qcodo.currentMouseHandleControl=null;if(d.handleMouseUp)return d.handleMouseUp(a,c)}return!0};this.unloadFlag=!1;this.handleUnload=function(){qcodo.unloadFlag=!0};window.onunload=this.handleUnload;this.beforeUnloadFlag=!1;this.handleBeforeUnload=function(){qcodo.beforeUnloadFlag=!0};window.onbeforeunload=this.handleBeforeUnload;this.colorRgbValues=function(a){a=
a.replace("#","");try{if(3==a.length)return[eval("0x"+a.substring(0,1)),eval("0x"+a.substring(1,2)),eval("0x"+a.substring(2,3))];if(6==a.length)return[eval("0x"+a.substring(0,2)),eval("0x"+a.substring(2,4)),eval("0x"+a.substring(4,6))]}catch(d){}return[0,0,0]};this.hexFromInt=function(a){a=255<a?255:0>a?0:a;intFirst=Math.floor(a/16);intSecond=a%16;return intFirst.toString(16)+intSecond.toString(16)};this.colorRgbString=function(a){return"#"+qcodo.hexFromInt(a[0])+qcodo.hexFromInt(a[1])+qcodo.hexFromInt(a[2])}}},
qc=qcodo;qc.initialize();qc.regAL=qcodo.registerAssetLocations;qc.regHP=qcodo.registerHashProcessor;qc.clrHP=qcodo.clearHashProcessor;qc.regPP=qcodo.registerPollingProcessor;qcodo.logMessage=function(a,b,d){var c=qcodo.getControl("Qform_Logger");c||(c=document.createElement("div"),c.id="Qform_Logger",c.style.display="none",c.style.width="400px",c.style.backgroundColor="#dddddd",c.style.fontSize="10px",c.style.fontFamily="lucida console, courier, monospaced",c.style.padding="6px",c.style.overflow="auto",qcodo.isBrowser(qcodo.IE)?c.style.filter="alpha(opacity=50)":c.style.opacity=.5,document.body.appendChild(c));d||a.replace&&(a=a.replace(/</g,"&lt;"));d="fixed";var e=
"0px",f="0px";qcodo.isBrowser(qcodo.IE)&&(d="absolute",e=qcodo.scroll.y+"px",f=qcodo.scroll.x+"px");c.style.position=d;c.style.top=e;c.style.left=f;c.style.height=qcodo.client.height-100+"px";c.style.display="inline";c.innerHTML=b?'<a href="javascript:qcodo.logRemove()">Remove</a><br/><br/>'+a+"<br/>":""==c.innerHTML?'<a href="javascript:qcodo.logRemove()">Remove</a><br/><br/>'+a+"<br/>":c.innerHTML+(a+"<br/>")};
qcodo.logRemove=function(){var a=qcodo.getControl("Qform_Logger");a&&(a.style.display="none")};
qcodo.logEventStats=function(a){qcodo.handleEvent(a);a=""+("scroll (x, y): "+qcodo.scroll.x+", "+qcodo.scroll.y+"<br/>");a+="scroll (width, height): "+qcodo.scroll.width+", "+qcodo.scroll.height+"<br/>";a+="client (x, y): "+qcodo.client.x+", "+qcodo.client.y+"<br/>";a+="client (width, height): "+qcodo.client.width+", "+qcodo.client.height+"<br/>";a+="page (x, y): "+qcodo.page.x+", "+qcodo.page.y+"<br/>";a+="page (width, height): "+qcodo.page.width+", "+qcodo.page.height+"<br/>";a+="mouse (x, y): "+
qcodo.mouse.x+", "+qcodo.mouse.y+"<br/>";a+="mouse (left, middle, right): "+qcodo.mouse.left+", "+qcodo.mouse.middle+", "+qcodo.mouse.right+"<br/>";a+="key (alt, shift, control, code): "+qcodo.key.alt+", "+qcodo.key.shift+", "+qcodo.key.control+", "+qcodo.key.code;qcodo.logMessage("Event Stats",!0);qcodo.logMessage(a,!1,!0)};
qcodo.logObject=function(a){var b="",d;for(d in a)var c=a[d],b=b+(d+": "),b="function"==typeof c?b+"&lt;FUNCTION&gt;":"object"==typeof c?b+"&lt;OBJECT&gt;":"outerText"==d||"innerText"==d||"outerHTML"==d||"innerHTML"==d?b+"&lt;TEXT&gt;":b+c,b=b+"<br/>";qcodo.logMessage("Object Stats",!0);qcodo.logMessage(b,!1,!0)};qcodo._objTimers={};qcodo.clearTimeout=function(a){qcodo._objTimers[a]&&(clearTimeout(qcodo._objTimers[a]),qcodo._objTimers[a]=null)};qcodo.setTimeout=function(a,b,d){qcodo.clearTimeout(a);qcodo._objTimers[a]=setTimeout(b,d)};
qcodo.handleEvent=function(a){if(a=a?a:"object"==typeof event?event:null)"undefined"!=typeof a.clientX&&(qcodo.isBrowser(qcodo.SAFARI)||qcodo.isBrowser(qcodo.CHROME)?(qcodo.mouse.x=a.clientX-window.document.body.scrollLeft,qcodo.mouse.y=a.clientY-window.document.body.scrollTop,qcodo.client.x=a.clientX-window.document.body.scrollLeft,qcodo.client.y=a.clientY-window.document.body.scrollTop):(qcodo.mouse.x=a.clientX,qcodo.mouse.y=a.clientY,qcodo.client.x=a.clientX,qcodo.client.y=a.clientY)),qcodo.isBrowser(qcodo.IE)?
(qcodo.mouse.left=a.button&1?!0:!1,qcodo.mouse.right=a.button&2?!0:!1,qcodo.mouse.middle=a.button&4?!0:!1):qcodo.isBrowser(qcodo.SAFARI)||qcodo.isBrowser(qcodo.CHROME)?(qcodo.mouse.left=a.button&&!a.ctrlKey?!0:!1,qcodo.mouse.right=a.button&&a.ctrlKey?!0:!1,qcodo.mouse.middle=!1):(qcodo.mouse.left=0==a.button,qcodo.mouse.right=2==a.button,qcodo.mouse.middle=1==a.button),qcodo.key.alt=a.altKey?!0:!1,qcodo.key.control=a.ctrlKey?!0:!1,qcodo.key.shift=a.shiftKey?!0:!1,qcodo.key.code=a.keyCode?a.keyCode:
0,qcodo.target=a.originalTarget?a.originalTarget:a.srcElement?a.srcElement:null;"BackCompat"==window.document.compatMode?(qcodo.client.width=qcodo.isBrowser(qcodo.SAFARI)||qcodo.isBrowser(qcodo.CHROME)?window.innerWidth:window.document.body.clientWidth,qcodo.client.height=qcodo.isBrowser(qcodo.SAFARI)||qcodo.isBrowser(qcodo.CHROME)?window.innerHeight:window.document.body.clientHeight,qcodo.page.width=Math.max(window.document.body.scrollWidth,qcodo.client.width),qcodo.page.height=Math.max(window.document.body.scrollHeight,
qcodo.client.height),qcodo.scroll.x=window.scrollX||window.document.body.scrollLeft,qcodo.scroll.y=window.scrollY||window.document.body.scrollTop):qcodo.isBrowser(qcodo.SAFARI)||qcodo.isBrowser(qcodo.CHROME)?(qcodo.client.width=window.innerWidth,qcodo.client.height=window.innerHeight,qcodo.page.width=Math.max(window.document.body.scrollWidth,qcodo.client.width),qcodo.page.height=Math.max(window.document.body.scrollHeight,qcodo.client.height),qcodo.scroll.x=window.scrollX||window.document.body.scrollLeft,
qcodo.scroll.y=window.scrollY||window.document.body.scrollTop):qcodo.isBrowser(qcodo.IE)?(qcodo.client.width=window.document.documentElement.offsetWidth,qcodo.client.height=window.document.documentElement.offsetHeight,qcodo.page.width=Math.max(window.document.documentElement.scrollWidth,qcodo.client.width),qcodo.page.height=Math.max(window.document.documentElement.scrollHeight,qcodo.client.height),qcodo.scroll.x=window.document.documentElement.scrollLeft,qcodo.scroll.y=window.document.documentElement.scrollTop):
(qcodo.client.width=Math.min(window.document.documentElement.clientWidth,window.document.body.clientWidth),qcodo.client.height=Math.min(window.document.documentElement.clientHeight,window.document.body.clientHeight),qcodo.page.width=window.document.documentElement.scrollWidth||window.document.body.scrollWidth,qcodo.page.height=window.document.documentElement.scrollHeight||window.document.body.scrollHeight,qcodo.scroll.x=Math.max(window.document.documentElement.scrollLeft,window.document.body.scrollLeft),qcodo.scroll.y=Math.max(window.document.documentElement.scrollTop,window.document.body.scrollTop));qcodo.page.x=qcodo.mouse.x+qcodo.scroll.x;qcodo.page.y=qcodo.mouse.y+qcodo.scroll.y;qcodo.scroll.width=qcodo.page.width-qcodo.client.width;qcodo.scroll.height=
qcodo.page.height-qcodo.client.height;return a};qcodo.terminateEvent=function(a){if(a=qcodo.handleEvent(a))a.preventDefault&&a.preventDefault(),a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0,a.returnValue=!1;return!1};qcodo.key={control:!1,alt:!1,shift:!1,code:null};qcodo.mouse={x:0,y:0,left:!1,middle:!1,right:!1};qcodo.client={x:null,y:null,width:null,height:null};qcodo.page={x:null,y:null,width:null,height:null};
qcodo.scroll={x:window.scrollX||(window.document.body?window.document.body.scrollLeft:null),y:window.scrollY||(window.document.body?window.document.body.scrollTop:null),width:window.document.body?window.document.body.scrollWidth-qcodo.client.width:null,height:window.document.body?window.document.body.scrollHeight-qcodo.client.height:null};qcodo.postBack=function(a,b,d,c){var e=document.getElementById(a);e.Qform__FormControl.value=b;e.Qform__FormEvent.value=d;e.Qform__FormParameter.value=c;e.Qform__FormCallType.value="Server";e.Qform__FormUpdates.value=qcodo.formUpdates();e.Qform__FormCheckableControls.value=qcodo.formCheckableControls(a,"Server");e.submit()};
qcodo.formUpdates=function(){var a="",b;for(b in qcodo.controlModifications)for(var d in qcodo.controlModifications[b])a+=b+" "+d+" "+qcodo.controlModifications[b][d]+"\n";qcodo.controlModifications={};return a};
qcodo.formCheckableControls=function(a,b){for(var d=document.getElementById(a),c="",e=0;e<d.elements.length;e++)"checkbox"!=d.elements[e].type&&"radio"!=d.elements[e].type||"Ajax"!=b&&d.elements[e].disabled||(0<=d.elements[e].id.indexOf("[")?0<=d.elements[e].id.indexOf("[0]")&&(c+=" "+d.elements[e].id.substring(0,d.elements[e].id.length-3)):0<=d.elements[e].id.indexOf("_")?0<=d.elements[e].id.indexOf("_0")&&(c+=" "+d.elements[e].id.substring(0,d.elements[e].id.length-2)):c+=" "+d.elements[e].id);
return 0<c.length?c.substring(1):""};qcodo.interceptSubmit=function(a,b){var d=document.getElementById(b);a.keyCode=13;if(d.onkeypress)d.onkeypress(a);else if(d.onkeydown)d.onkeydown(a);d.blur()};qcodo.ajaxQueue=[];qcodo.postAjax=function(a,b,d,c,e){if(!qc.unloadFlag){qc.beforeUnloadFlag&&(qc.beforeUnloadFlag=!1);var f=!1;0==qcodo.ajaxQueue.length&&(f=!0);qcodo.ajaxQueue.push([a,b,d,c,e]);f&&qcodo.dequeueAjaxQueue()}};qcodo.clearAjaxQueue=function(){qcodo.ajaxQueue=[]};qcodo.objAjaxWaitIcon=null;
qcodo.ajaxRequest=null;
qcodo.handleAjaxResponse=function(a,b){var d;if(b||4==qcodo.ajaxRequest.readyState){d=b?b:qcodo.ajaxRequest;if(!qcodo.beforeUnloadFlag)try{var c=d.responseXML;if(c){for(var e=0,f=c.getElementsByTagName("control"),e=f.length,g=0;g<e;g++){var k=f[g].attributes.getNamedItem("id").nodeValue,h="";f[g].textContent?h=f[g].textContent:f[g].firstChild&&(h=f[g].firstChild.nodeValue);if("Qform__FormState"==k)document.getElementById(k).value=h;else{var n=document.getElementById(k+"_ctl");n&&(n.innerHTML=h)}}for(var q=
c.getElementsByTagName("command"),e=q.length,g=0;g<e;g++)if(q[g]&&q[g].firstChild){c="";intChildLength=q[g].childNodes.length;for(f=0;f<intChildLength;f++)c+=q[g].childNodes[f].nodeValue;eval(c)}}else{alert("An error occurred during AJAX Response parsing.\r\n\r\nThe error response will appear in a new popup.");e=window.open("about:blank","qcodo_error","menubar=no,toolbar=no,location=no,status=no,scrollbars=yes,resizable=yes,width=1000,height=700,left=50,top=50");e.focus();e.document.write(d.responseText);
return}}catch(t){alert(t.message+"\r\non line number "+t.lineNumber+"\r\nin file "+t.fileName);alert("An error occurred during AJAX Response handling.\r\n\r\nThe error response will appear in a new popup.");e=window.open("about:blank","qcodo_error","menubar=no,toolbar=no,location=no,status=no,scrollbars=yes,resizable=yes,width=1000,height=700,left=50,top=50");e.focus();e.document.write(d.responseText);return}qcodo.ajaxQueue.shift();qcodo.objAjaxWaitIcon&&(qcodo.objAjaxWaitIcon.style.display="none");
0<qcodo.ajaxQueue.length&&qcodo.dequeueAjaxQueue()}};
qcodo.dequeueAjaxQueue=function(){if(0<qcodo.ajaxQueue.length){strForm=this.ajaxQueue[0][0];strControl=this.ajaxQueue[0][1];strEvent=this.ajaxQueue[0][2];strParameter=this.ajaxQueue[0][3];if(strWaitIconControlId=this.ajaxQueue[0][4])if(this.objAjaxWaitIcon=this.getWrapper(strWaitIconControlId))this.objAjaxWaitIcon.style.display="inline";var a=document.getElementById(strForm);a.Qform__FormControl.value=strControl;a.Qform__FormEvent.value=strEvent;a.Qform__FormParameter.value=strParameter;a.Qform__FormCallType.value=
"Ajax";a.Qform__FormUpdates.value=qcodo.formUpdates();a.Qform__FormCheckableControls.value=this.formCheckableControls(strForm,"Ajax");for(var b="",d=0;d<a.elements.length;d++)switch(a.elements[d].type){case "checkbox":case "radio":if(a.elements[d].checked)var c=a.elements[d].name+"_",b=a.elements[d].id.substring(0,c.length)==c?b+("&"+a.elements[d].name+"="+a.elements[d].id.substring(c.length)):b+("&"+a.elements[d].id+"="+a.elements[d].value);break;case "select-multiple":for(c=0;c<a.elements[d].options.length;c++)a.elements[d].options[c].selected&&
(b+="&"+a.elements[d].name+"=",b+=a.elements[d].options[c].value);break;default:b+="&"+a.elements[d].id+"=";if(c=a.elements[d].value)c=c.replace(/\%/g,"%25"),c=c.replace(/&/g,escape("&")),c=c.replace(/\+/g,"%2B");b+=c}var a=a.action,e;window.XMLHttpRequest?e=new XMLHttpRequest:"undefined"!=typeof ActiveXObject&&(e=new ActiveXObject("Microsoft.XMLHTTP"));e&&(e.open("POST",a,!0),e.setRequestHeader("Method","POST "+a+" HTTP/1.1"),e.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),
e.onreadystatechange=qcodo.handleAjaxResponse,qcodo.ajaxRequest=e,e.send(b))}};qc.pB=qcodo.postBack;qc.pA=qcodo.postAjax;function treenavToggleImage(a){var b=treenavToggleDisplay(a+"_sub",null,"block"),d=document.getElementById(a+"_image"),c=qc.imageAssets+"/treenav_expanded.png",e=qc.imageAssets+"/treenav_not_expanded.png";d.src=b?c:e;strActualControlId=a.substr(0,a.indexOf("_"));qcodo.recordControlModification(strActualControlId,"ItemExpanded",a+(b?" 1":" 0"))}
function treenavToggleDisplay(a,b,d){if(a=qcodo.getControl(a)){if(b){if("show"==b)return a.style.display=d,!0}else if("none"==a.style.display)return a.style.display=d,!0;a.style.display="none";return!1}}function treenavItemUnselect(a,b){var d=document.getElementById(a);d.className=b;d.onmouseout=function(){treenavItemSetStyle(a,b)}}function treenavItemSetStyle(a,b){document.getElementById(a).className=b}function treenavRedrawElement(a,b){document.getElementById(a).innerHTML=b};qcodo.getControl=function(a){return"string"==typeof a?document.getElementById(a):a};qcodo.getWrapper=function(a){if(a=qcodo.getControl(a))return a?this.getControl(a.id+"_ctl"):null};qcodo.controlModifications={};qcodo.javascriptStyleToQcodo=[];qcodo.javascriptStyleToQcodo.backgroundColor="BackColor";qcodo.javascriptStyleToQcodo.borderColor="BorderColor";qcodo.javascriptStyleToQcodo.borderStyle="BorderStyle";qcodo.javascriptStyleToQcodo.border="BorderWidth";qcodo.javascriptStyleToQcodo.height="Height";
qcodo.javascriptStyleToQcodo.width="Width";qcodo.javascriptStyleToQcodo.text="Text";qcodo.javascriptWrapperStyleToQcodo=[];qcodo.javascriptWrapperStyleToQcodo.position="Position";qcodo.javascriptWrapperStyleToQcodo.top="Top";qcodo.javascriptWrapperStyleToQcodo.left="Left";qcodo.recordControlModification=function(a,b,d){qcodo.controlModifications[a]||(qcodo.controlModifications[a]={});qcodo.controlModifications[a][b]=d};
qcodo.registerControl=function(a){if(a=qcodo.getControl(a)){var b=this.getWrapper(a);a.wrapper=b;b.control=a;qcodo.wrappers[b.id]=b;b.updateStyle=function(a,c){var e=this.control;switch(a){case "className":e.className=c;qcodo.recordControlModification(e.id,"CssClass",c);break;case "parent":c?(qcodo.getControl(c).appendChild(this),qcodo.recordControlModification(e.id,"Parent",c)):(this.parentNode.removeChild(this),qcodo.recordControlModification(e.id,"Parent",""));break;case "displayStyle":e.style.display=
c;qcodo.recordControlModification(e.id,"DisplayStyle",c);break;case "display":c?(b.style.display="inline",qcodo.recordControlModification(e.id,"Display","1")):(b.style.display="none",qcodo.recordControlModification(e.id,"Display","0"));break;case "enabled":c?(b.control.disabled=!1,qcodo.recordControlModification(e.id,"Enabled","1")):(b.control.disabled=!0,qcodo.recordControlModification(e.id,"Enabled","0"));break;case "width":case "height":e.style[a]=c;qcodo.javascriptStyleToQcodo[a]&&qcodo.recordControlModification(e.id,
qcodo.javascriptStyleToQcodo[a],c);b.handle&&b.updateHandle();break;case "text":e.innerHTML=c;qcodo.recordControlModification(e.id,"Text",c);break;default:qcodo.javascriptWrapperStyleToQcodo[a]?(this.style[a]=c,qcodo.recordControlModification(e.id,qcodo.javascriptWrapperStyleToQcodo[a],c)):(e.style[a]=c,qcodo.javascriptStyleToQcodo[a]&&qcodo.recordControlModification(e.id,qcodo.javascriptStyleToQcodo[a],c))}};b.getAbsolutePosition=function(){for(var a=0,c=0,b=this.control;b;)b.wrapper&&"relative"==
b.wrapper.style.position||(a+=b.offsetLeft,c+=b.offsetTop),b=b.offsetParent;return{x:a,y:c}};b.setAbsolutePosition=function(a,c,b){for(var f=this.offsetParent;f;)a-=f.offsetLeft,c-=f.offsetTop,f=f.offsetParent;b&&"form"!=this.parentNode.nodeName.toLowerCase()&&(a=Math.max(a,0),c=Math.max(c,0),a=Math.min(a,this.offsetParent.offsetWidth-this.offsetWidth),c=Math.min(c,this.offsetParent.offsetHeight-this.offsetHeight));this.updateStyle("left",a+"px");this.updateStyle("top",c+"px")};b.setDropZoneMaskAbsolutePosition=
function(a,c,b){this.dropZoneMask.style.left=a+"px";this.dropZoneMask.style.top=c+"px"};b.setMaskOffset=function(a,c){var b=this.getAbsolutePosition();this.mask.style.left=b.x+a+"px";this.mask.style.top=b.y+c+"px"};b.containsPoint=function(a,c){var b=this.getAbsolutePosition();return a>=b.x&&a<=b.x+this.control.offsetWidth&&c>=b.y&&c<=b.y+this.control.offsetHeight?!0:!1};b.toggleDisplay=function(a){a?"show"==a?this.updateStyle("display",!0):this.updateStyle("display",!1):this.updateStyle("display",
"none"==this.style.display?!0:!1)};b.toggleEnabled=function(a){a?"enable"==a?this.updateStyle("enabled",!0):this.updateStyle("enabled",!1):this.updateStyle("enabled",this.control.disabled?!0:!1)};b.registerClickPosition=function(a){a=a?a:"object"==typeof event?event:null;qcodo.handleEvent(a);a=qcodo.mouse.x-this.getAbsolutePosition().x+qcodo.scroll.x;var c=qcodo.mouse.y-this.getAbsolutePosition().y+qcodo.scroll.y;qcodo.isBrowser(qcodo.IE)&&(a-=2,c-=2);document.getElementById(this.control.id+"_x").value=
a;document.getElementById(this.control.id+"_y").value=c};b.focus=function(){this.control.focus&&(qcodo.isBrowser(qcodo.IE)&&"object"==typeof this.control.focus?this.control.focus():"function"==typeof this.control.focus&&this.control.focus())};b.blur=function(){this.control.blur&&(qcodo.isBrowser(qcodo.IE)&&"object"==typeof this.control.blur?this.control.blur():"function"==typeof this.control.blur&&this.control.blur())};b.select=function(){this.control.select&&this.control.select()};b.blink=function(a,
c){b.defaultBackgroundColor=b.control.style.backgroundColor;b.blinkStart=qcodo.colorRgbValues(a);b.blinkEnd=qcodo.colorRgbValues(c);b.blinkStep=[Math.round((b.blinkEnd[0]-b.blinkStart[0])/12.5),Math.round((b.blinkEnd[1]-b.blinkStart[1])/12.5),Math.round((b.blinkEnd[2]-b.blinkStart[2])/12.5)];b.blinkDown=[0>b.blinkStep[0]?!0:!1,0>b.blinkStep[1]?!0:!1,0>b.blinkStep[2]?!0:!1];b.blinkCurrent=b.blinkStart;this.control.style.backgroundColor=qcodo.colorRgbString(b.blinkCurrent);qcodo.setTimeout(b.id,"qc.getC('"+
b.id+"').blinkHelper()",20)};b.blinkHelper=function(){b.blinkCurrent[0]+=b.blinkStep[0];b.blinkCurrent[1]+=b.blinkStep[1];b.blinkCurrent[2]+=b.blinkStep[2];if(b.blinkDown[0]&&b.blinkCurrent[0]<b.blinkEnd[0]||!b.blinkDown[0]&&b.blinkCurrent[0]>b.blinkEnd[0])b.blinkCurrent[0]=b.blinkEnd[0];if(b.blinkDown[1]&&b.blinkCurrent[1]<b.blinkEnd[1]||!b.blinkDown[1]&&b.blinkCurrent[1]>b.blinkEnd[1])b.blinkCurrent[1]=b.blinkEnd[1];if(b.blinkDown[2]&&b.blinkCurrent[2]<b.blinkEnd[2]||!b.blinkDown[2]&&b.blinkCurrent[2]>
b.blinkEnd[2])b.blinkCurrent[2]=b.blinkEnd[2];this.control.style.backgroundColor=qcodo.colorRgbString(b.blinkCurrent);b.blinkCurrent[0]==b.blinkEnd[0]&&b.blinkCurrent[1]==b.blinkEnd[1]&&b.blinkCurrent[2]==b.blinkEnd[2]?this.control.style.backgroundColor=b.defaultBackgroundColor:qcodo.setTimeout(b.id,"qc.getC('"+b.id+"').blinkHelper()",20)};b.startTextboxFormSubmitOverride=function(a){document.getElementById(document.getElementById("Qform__FormId").value).onsubmit=function(){qcodo.interceptSubmit(event,
a);return!1}};b.endTextboxFormSubmitOverride=function(a){document.getElementById(document.getElementById("Qform__FormId").value).onsubmit=null}}};qcodo.registerControlArray=function(a){for(var b=a.length,d=0;d<b;d++)qcodo.registerControl(a[d])};qc.getC=qcodo.getControl;qc.getW=qcodo.getWrapper;qc.regC=qcodo.registerControl;qc.regCA=qcodo.registerControlArray;qcodo.registerDialogBox=function(a,b,d,c,e){qcodo.handleEvent();if(a=qcodo.getControl(a)){var f=a.wrapper;for(f.id=a.id+"_ctls";objOldDialogWrapper=document.getElementById(a.id+"_ctl");)objOldDialogWrapper.parentNode.removeChild(objOldDialogWrapper);f.id=a.id+"_ctl";if(!f.showDialogBox){document.getElementById(document.getElementById("Qform__FormId").value).appendChild(f);f.dbBg=document.getElementById(f.id+"dbbg");a=f.dbBg;if(!a&&(a=document.createElement("div"),a.id=f.id+"dbbg",document.getElementById(document.getElementById("Qform__FormId").value).appendChild(a),
f.dbBg=a,a.wrapper=f,qcodo.isBrowser(qcodo.IE))){var g=document.createElement("iframe");g.id=f.id+"dbbgframe";g.style.left="0px";g.style.top="0px";g.style.position="absolute";g.style.filter="alpha(opacity=0)";g.src="javascript: false;";g.frameBorder=0;g.scrolling="no";g.style.zIndex=990;g.display="none";document.getElementById(document.getElementById("Qform__FormId").value).appendChild(g);f.dbBgFrame=g}f.handleResize=function(a){a=qcodo.handleEvent(a);if(!a.target||!a.target.nodeName||"div"!=a.target.nodeName.toLowerCase()&&
"span"!=a.target.nodeName.toLowerCase()){var c=qcodo.activeDialogBox,d=c.dbBg,b=c.dbBgFrame;c.style.display="none";d.style.display="none";b&&(b.style.display="none");qcodo.handleEvent(a);c.style.display="inline";d.style.display="block";b&&(b.style.display="block");d.style.width=Math.max(qcodo.page.width,qcodo.client.width)+"px";d.style.height=Math.max(qcodo.page.height,qcodo.client.height)+"px";b&&(b.style.width=Math.max(qcodo.page.width,qcodo.client.width)+"px",b.style.height=Math.max(qcodo.page.height,
qcodo.client.height)+"px");d=c.offsetWidth;a=Math.round((qcodo.client.height-c.offsetHeight)/2)+qcodo.scroll.y;d=Math.round((qcodo.client.width-d)/2)+qcodo.scroll.x;c.setAbsolutePosition(d,a);return!0}};f.handleKeyPress=function(a){a=qcodo.handleEvent(a);qcodo.terminateEvent(a);qcodo.activeDialogBox.hideDialogBox();return!1};f.showDialogBox=function(){var a=this.dbBg,c=this.dbBgFrame;f.style.display="none";a.style.display="none";c&&(c.style.display="none");qcodo.handleEvent();a.style.display="block";
c&&(c.style.display="block");this.toggleDisplay("show");a.style.width=Math.max(qcodo.page.width,qcodo.client.width)+"px";a.style.height=Math.max(qcodo.page.height,qcodo.client.height)+"px";c&&(c.style.width=Math.max(qcodo.page.width,qcodo.client.width)+"px",c.style.height=Math.max(qcodo.page.height,qcodo.client.height)+"px");c=f.offsetWidth;a=Math.round((qcodo.client.height-f.offsetHeight)/2)+qcodo.scroll.y;c=Math.round((qcodo.client.width-c)/2)+qcodo.scroll.x;f.setAbsolutePosition(c,a);window.onresize=
this.handleResize;window.onscroll=this.handleResize;qcodo.activeDialogBox=this;f.anyKeyCloses&&(document.body.onkeypress=this.handleKeyPress,f.control.focus())};f.hideDialogBox=function(){var a=this;0<this.id.indexOf("_ctldbbg")&&(a=this.wrapper);a.dbBg.style.display="none";a.dbBgFrame&&(a.dbBgFrame.style.display="none");a.toggleDisplay("hide");window.onresize=null;window.onscroll=null;document.body.onkeypress=null;qcodo.activeDialogBox=null};f.style.zIndex=999;f.position="absolute";f.anyKeyCloses=
e;a.style.position="absolute";a.style.zIndex=998;a.style.top="0px";a.style.left="0px";qcodo.isBrowser(qcodo.IE)?a.style.overflow="auto":a.style.overflow="hidden";c?(a.style.cursor="pointer",a.onclick=f.hideDialogBox):(a.style.cursor="url("+qc.imageAssets+"/_core/move_nodrop.cur), auto",a.onclick=null);a.style.backgroundColor=b;qcodo.isBrowser(qcodo.IE)?a.style.filter="alpha(opacity="+d+")":a.style.opacity=d/100;a.style.fontSize="1px";a.innerHTML="&nbsp;";"none"==f.style.display?f.hideDialogBox():
f.showDialogBox()}}};qc.regDB=qcodo.registerDialogBox;qcodo.registerFileUploaderControl=function(a,b,d){qcodo.handleEvent();if(a=qcodo.getControl(a)){var c=a.wrapper,e=c.id+"flc",f=document.getElementById(document.getElementById("Qform__FormId").value);c.uniqueHash=d;c.button=document.getElementById(a.id+"_button");c.progress=document.getElementById(a.id+"_progress");c.progress.size=document.getElementById(a.id+"_size");c.progress.status=document.getElementById(a.id+"_status");c.progress.fill=document.getElementById(a.id+"_fill");c.iframe=document.getElementById(a.id+
"_iframe");e=document.getElementById(a.id+"_ospan");e.style.width="0px";e.style.height="0px";e.style.position="absolute";e.style.display="inline";e.style.overflow="visible";e.style.margin=0;e.style.padding=0;e.style.border=0;e=c.iframe;e.style.width=c.button.offsetWidth+"px";e.style.height=c.button.offsetHeight+"px";e.style.border=0;e.style.padding=0;e.style.margin=0;e.style.display="inline";e.style.position="relative";e.style.left="-"+c.button.offsetWidth+"px";e.style.opacity=0;e.style.filter="alpha(opacity=0)";
e.style.overflow="hidden";d=e.contentDocument;void 0!=d&&d||(d=e.contentWindow.document);c.frameDoc=d;var g=c.id+"form",e=c.id+"flc";d.open();d.writeln('<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">');d.writeln('<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"><head>');d.writeln('<body style="margin: 0; padding: 0;"><form method="post" action="'+b+'" enctype="multipart/form-data" id="'+g+'">');d.writeln('<div id="'+
a.id+'_iframediv"></div>');d.writeln('<input type="hidden" name="APC_UPLOAD_PROGRESS" id="APC_UPLOAD_PROGRESS" value="'+c.uniqueHash+'" />');d.writeln('<input type="hidden" name="Qform__FormState" id="Qform__FormState" value="" />');d.writeln('<input type="hidden" name="Qform__FormId" id="Qform__FormId" value="'+f.id+'" />');d.writeln("</form></body></html>");d.close();b=d.getElementById(g);qcodo.registerFormHiddenElement("Qform__FormControl",b,d);qcodo.registerFormHiddenElement("Qform__FormEvent",
b,d);qcodo.registerFormHiddenElement("Qform__FormParameter",b,d);qcodo.registerFormHiddenElement("Qform__FormCallType",b,d);qcodo.registerFormHiddenElement("Qform__FormUpdates",b,d);qcodo.registerFormHiddenElement("Qform__FormCheckableControls",b,d);a=d.getElementById(a.id+"_iframediv");f=d.createElement("input");f.type="file";a.appendChild(f);a.style.width=c.button.offsetWidth+"px";a.style.height=c.button.offsetHeight+"px";a.style.overflow="hidden";f.style.position="relative";f.id=e;f.name=e;f.style.left=
"-155px";qcodo.isBrowser(qcodo.IE)?(f.style.left="-158px",f.style.top="-2px"):qcodo.isBrowser(qcodo.FIREFOX)&&(qcodo.isBrowser(qcodo.MACINTOSH)?(f.style.left="-155px",f.style.top="-2px"):f.style.left="-146px");c.iframe.wrapper=c;c.frameForm=b;c.fileControl=f;c.fileControl.wrapper=c;c.executeSubmit=function(){var a=this.wrapper,c=document.getElementById(document.getElementById("Qform__FormId").value);a.iframe.style.display="none";a.button.style.display="none";a.progress.style.display="block";var d=
a.frameForm;d.Qform__FormState.value=c.Qform__FormState.value;d.Qform__FormControl.value=a.control.id;d.Qform__FormControl.value=a.control.id;d.Qform__FormEvent.value="QFileUploadedEvent";d.Qform__FormParameter.value="foobar";d.Qform__FormCallType.value="Ajax";d.Qform__FormUpdates.value=qcodo.formUpdates();qcodo.isBrowser(qcodo.IE)?a.iframe.onreadystatechange=function(){"complete"==this.readyState&&this.wrapper.response()}:a.iframe.onload=a.response;a.isUploading=!0;setTimeout('document.getElementById("'+
a.id+'").getStatus();',1E3);d.submit()};c.response=function(){if(c.isUploading){c.isUploading=!1;var a=c.iframe,d=a.contentDocument;void 0!=d&&d||(d=a.contentWindow.document);a={};a.responseXML=d.XMLDocument?d.XMLDocument:d;qcodo.handleAjaxResponse(null,a)}};c.fileControl.onchange=c.executeSubmit;c.getStatus=function(){var a;window.XMLHttpRequest?a=new XMLHttpRequest:"undefined"!=typeof ActiveXObject&&(a=new ActiveXObject("Microsoft.XMLHTTP"));c.getStatusRequest=a;var d=qcodo.phpAssets+"/_core/file_uploader.php/"+
this.uniqueHash;a&&(a.open("GET",d,!0),a.onreadystatechange=c.handleGetStatusResponse,a.send(null))};c.handleGetStatusResponse=function(a){4==c.getStatusRequest.readyState&&c.isUploading&&((a=c.getStatusRequest.responseXML)&&a.getElementsByTagName("uploadData")&&a.getElementsByTagName("uploadData").length&&(a=a.getElementsByTagName("uploadData")[0],c.progress.size.innerHTML=a.getAttribute("total"),c.progress.status.innerHTML="Uploading... <strong>"+a.getAttribute("percent")+"</strong>",c.progress.fill.style.width=
a.getAttribute("percentFloor")+"px"),setTimeout('document.getElementById("'+c.id+'").getStatus();',1E3))}}};qc.regFUP=qcodo.registerFileUploaderControl;qcodo.registerControlHandle=function(a,b){var d;if(d=qcodo.getControl(a)){d=d.wrapper;if(!d.handle){var c=document.createElement("span");c.id=d.id+"handle";d.parentNode.appendChild(c);d.handle=c;c.wrapper=d;d.style.position?(c.style.width=d.offsetWidth+"px",c.style.height=d.offsetHeight+"px",c.style.top=d.offsetTop+"px",c.style.left=d.offsetLeft+"px"):(c.style.width=d.control.style.width,c.style.height=d.control.style.height,c.style.top=d.control.offsetTop+"px",c.style.left=d.control.offsetLeft+"px");
c.style.cursor=b;c.style.zIndex=999;c.style.backgroundColor="white";qcodo.isBrowser(qcodo.IE)?c.style.filter="alpha(opacity=0)":c.style.opacity=0;c.style.position="absolute";c.style.fontSize="1px";c.innerHTML="."}d.updateHandle=function(a,c){var d=this.handle;a&&this.parentNode.appendChild(d);d.style.top=this.offsetTop+"px";d.style.left=this.offsetLeft+"px";d.style.width=this.offsetWidth+"px";d.style.height=this.offsetHeight+"px";c&&(d.style.cursor=c)}}};qc.regCH=qcodo.registerControlHandle;qcodo.registerControlMoveable=function(a){if(a=qcodo.getControl(a)){a=a.wrapper;a.moveable=!0;a.mask=qcodo.getControl(a.id+"mask");if(!a.mask){var b=document.createElement("span");b.id=a.id+"mask";b.style.position="absolute";document.getElementById(document.getElementById("Qform__FormId").value).appendChild(b);a.mask=b}a.mask.wrapper=a;objMask=a.mask;objMask.style.position="absolute";objMask.style.zIndex=998;qcodo.isBrowser(qcodo.IE)?objMask.style.filter="alpha(opacity=50)":objMask.style.opacity=
.5;objMask.style.display="none";objMask.innerHTML="";objMask.handleAnimateComplete=function(a){this.style.display="none"}}};
qcodo.registerControlDropZoneTarget=function(a){if(a=qcodo.getControl(a)){a=a.wrapper;a.dropZoneMask=qcodo.getControl(a.id+"dzmask");if(!a.dropZoneMask){var b=document.createElement("span");b.id=a.id+"dzmask";b.style.position="absolute";var d=document.createElement("span");d.style.fontSize="1px";d.innerHTML="&nbsp;";b.appendChild(d);document.getElementById(document.getElementById("Qform__FormId").value).appendChild(b);a.dropZoneMask=b;a.dropZoneMask.wrapper=a;objMask=a.dropZoneMask;objMask.style.position=
"absolute";objMask.style.top="0px";objMask.style.left="0px";objMask.style.borderColor="#bb3399";objMask.style.borderStyle="solid";objMask.style.borderWidth="3px";objMask.style.display="none"}a.addToDropZoneGrouping=function(a,d,b){qcodo.dropZoneGrouping[a]||(qcodo.dropZoneGrouping[a]=[]);qcodo.dropZoneGrouping[a][this.control.id]=this;qcodo.dropZoneGrouping[a].__allowSelf=d?!0:!1;qcodo.dropZoneGrouping[a].__allowSelfParent=b?!0:!1;qcodo.registerControlDropZoneTarget(this.control)};a.removeFromDropZoneGrouping=
function(a){qcodo.dropZoneGrouping[a]?qcodo.dropZoneGrouping[a][this.control.id]=!1:qcodo.dropZoneGrouping[a]=[]};a.a2DZG=a.addToDropZoneGrouping;a.rfDZG=a.removeFromDropZoneGrouping}};qcodo.dropZoneGrouping=[];
qcodo.registerControlMoveHandle=function(a){if(a=qcodo.getControl(a)){var b=a.wrapper;b.handle?b.updateHandle():(qcodo.registerControlHandle(a,"move"),qcodo.enableMouseDrag(),b.handleMouseDown=function(a,c){this.setupBoundingBox();this.offsetX=qcodo.page.x-this.boundingBox.x;this.offsetY=qcodo.page.y-this.boundingBox.y;this.startDragX=qcodo.page.x;this.startDragY=qcodo.page.y;qcodo.moveHandleReset&&qcodo.moveHandleReset.resetMasksCancel();for(var b in this.moveControls){var f=this.moveControls[b],
g=f.mask,f=f.getAbsolutePosition();g.style.display="block";g.style.top=f.y+"px";g.style.left=f.x+"px";g.innerHTML=""}return qcodo.terminateEvent(a)},b.handleMouseMove=function(a,c){30>=qcodo.client.x||qcodo.client.y>=qcodo.client.height-30||30>=qcodo.client.y||qcodo.client.x>=qcodo.client.width-30?(qcodo.scrollMoveHandle=this,qcodo.handleScroll()):(qcodo.clearTimeout(b.id),this.moveMasks());return qcodo.terminateEvent(a)},b.handleMouseUp=function(a,c){var b=this.calculateMoveDelta(),f=b.x,b=b.y;qcodo.clearTimeout(this.id);
var g;if(g=0==f&&0==b?null:this.getDropTarget())for(var k in this.moveControls){var h=this.moveControls[k],n=h.mask;n.style.display="none";n.style.cursor=null;h.updateStyle("position","absolute");n=h.getAbsolutePosition();"form"==g.nodeName.toLowerCase()?h.parentNode!=g&&h.updateStyle("parent",g.id):g.id!=h.parentNode.parentNode.id&&h.updateStyle("parent",g.control.id);h.setAbsolutePosition(n.x+f,n.y+b,!0);h.updateHandle&&h.updateHandle(!0,"move");h.control.getAttribute("onqcodomove")&&(h.control.qcodomove=
function(a){eval(a)},h.control.qcodomove(h.control.getAttribute("onqcodomove")))}else{for(k in this.moveControls)h=this.moveControls[k],n=h.mask,n.style.cursor=null;h.updateHandle&&h.updateHandle(!1,"move");qcodo.isBrowser(this.IE)?this.resetMasks(f,b,25):this.resetMasks(f,b,50)}return 0==f&&0==b?this.control.onclick?this.control.onclick(a):!0:qcodo.terminateEvent(a)},b.moveControls={},b.registerMoveTarget=function(a){null==a&&(a=this.control);if(a=qcodo.getControl(a)){var c=a.wrapper;c&&(this.moveControls[a.id]=
c)}},b.unregisterMoveTarget=function(a){var c;(c=qcodo.getControl(a))&&c.id&&(this.moveControls[c.id]=null)},b.clearMoveTargets=function(){this.moveControls={}},b.registerDropZone=function(a){if(a=qcodo.getControl(a))a.wrapper?(qcodo.registerControlDropZoneTarget(a),this.dropControls[a.id]=a.wrapper):this.dropControls[a.id]=a},b.unregisterDropZone=function(a){if(a=qcodo.getControl(a))this.dropControls[a.id]=null},b.clearDropZones=function(){this.dropControls={}},b.clearDropZones(),b.registerDropZoneGrouping=
function(a){qcodo.dropZoneGrouping[a]||(qcodo.dropZoneGrouping[a]=[]);this.dropGroupings[a]=!0},b.clearDropZoneGroupings=function(){this.dropGroupings={}},b.clearDropZoneGroupings(),b.calculateMoveDelta=function(){var a=qcodo.page.x-this.startDragX,c=qcodo.page.y-this.startDragY,a=Math.min(Math.max(a,-1*this.boundingBox.x),qcodo.page.width-this.boundingBox.boundX),c=Math.min(Math.max(c,-1*this.boundingBox.y),qcodo.page.height-this.boundingBox.boundY);return{x:a,y:c}},b.setupBoundingBox=function(){var a=
null,c=null,b=null,f=null,g;for(g in this.moveControls){var k=this.moveControls[g],h=k.getAbsolutePosition();null==a?(a=h.x,c=h.y,b=h.x+k.offsetWidth,f=h.y+k.offsetHeight):(a=Math.min(a,h.x),c=Math.min(c,h.y),b=Math.max(b,h.x+k.offsetWidth),f=Math.max(f,h.y+k.offsetHeight))}this.boundingBox||(this.boundingBox={});this.boundingBox.x=a;this.boundingBox.y=c;this.boundingBox.boundX=b;this.boundingBox.boundY=f;this.boundingBox.width=b-a;this.boundingBox.height=f-c},b.updateBoundingBox=function(){var a=
null,c=null,b=null,f=null,g;for(g in this.moveControls){var k=this.moveControls[g],h=k.getAbsolutePosition();null==a?(a=h.x,c=h.y,b=h.x+k.mask.offsetWidth,f=h.y+k.mask.offsetHeight):(a=Math.min(a,h.x),c=Math.min(c,h.y),b=Math.max(b,h.x+k.mask.offsetWidth),f=Math.max(f,h.y+k.mask.offsetHeight))}this.boundingBox.x=a;this.boundingBox.y=c;this.boundingBox.boundX=b;this.boundingBox.boundY=f;this.boundingBox.width=b-a;this.boundingBox.height=f-c},b.moveMasks=function(){var a=this.calculateMoveDelta(),c=
a.x,a=a.y,b=this.validateDropZone();this.handle.style.cursor=b?"url("+qc.imageAssets+"/_core/move_drop.cur), auto":"url("+qc.imageAssets+"/_core/move_nodrop.cur), auto";for(var f in this.moveControls){var g=this.moveControls[f],k=g.mask;""==k.innerHTML&&(k.innerHTML=".");"."==k.innerHTML&&(k.innerHTML=g.innerHTML.replace(' id="',' id="invalid_mask_'));this.updateBoundingBox();g.setMaskOffset(c,a);k.style.cursor=b?"url("+qc.imageAssets+"/_core/move_drop.cur), auto":"url("+qc.imageAssets+"/_core/move_nodrop.cur), auto"}},
b.getDropZoneControlWrappers=function(){var a=[],c;for(c in this.dropControls){var e=this.dropControls[c];e&&(a[c]=e)}for(var f in this.dropGroupings)if(this.dropGroupings[f])for(var g in qcodo.dropZoneGrouping[f])"_"!=g.substring(0,1)&&(e=qcodo.dropZoneGrouping[f][g])&&(e.control.id==b.control.id?qcodo.dropZoneGrouping[f].__allowSelf&&(a[g]=e):e.control.id==b.parentNode.id?qcodo.dropZoneGrouping[f].__allowSelfParent&&(a[g]=e):a[g]=e);return a},b.validateDropZone=function(){var a=!1,c=!1,b=this.getDropZoneControlWrappers(),
f;for(f in b){var g=b[f];g&&("form"==g.nodeName.toLowerCase()?c=!0:g.containsPoint(qcodo.page.x,qcodo.page.y)?a?g.dropZoneMask.style.display="none":(g.dropZoneMask.style.display="block",a=g.getAbsolutePosition(),qcodo.isBrowser(qcodo.IE)&&"BackCompat"==window.document.compatMode?(g.dropZoneMask.style.width=Math.max(7,g.control.offsetWidth)+"px",g.dropZoneMask.style.height=Math.max(7,g.control.offsetHeight)+"px"):(g.dropZoneMask.style.width=Math.max(1,g.control.offsetWidth-6)+"px",g.dropZoneMask.style.height=
Math.max(1,g.control.offsetHeight-6)+"px"),a=g.getAbsolutePosition(),g.setDropZoneMaskAbsolutePosition(a.x,a.y),a=!0):g.dropZoneMask.style.display="none")}return a||c},b.getDropTarget=function(){var a=null,c=null,b=this.getDropZoneControlWrappers(),f;for(f in b){var g=b[f];g&&("form"==g.nodeName.toLowerCase()?a=g:g.containsPoint(qcodo.page.x,qcodo.page.y)&&(g.dropZoneMask.style.display="none",c||(c=g)))}return c?c:a?a:null},b.resetMasks=function(a,c,b){qcodo.moveHandleReset=this;if(a||c){this.resetCurrentOffsetX=
1*a;this.resetCurrentOffsetY=1*c;var f=Math.sqrt(Math.pow(a,2)+Math.pow(c,2));b=1*b/f;this.resetStepX=b*a;this.resetStepY=b*c;qcodo.setTimeout("move_mask_return","qcodo.wrappers['"+this.id+"'].resetMaskHelper()",10)}},b.resetMaskHelper=function(){this.resetCurrentOffsetX=0>this.resetCurrentOffsetX?Math.min(this.resetCurrentOffsetX-this.resetStepX,0):Math.max(this.resetCurrentOffsetX-this.resetStepX,0);this.resetCurrentOffsetY=0>this.resetCurrentOffsetY?Math.min(this.resetCurrentOffsetY-this.resetStepY,
0):Math.max(this.resetCurrentOffsetY-this.resetStepY,0);for(var a in this.moveControls){var c=this.moveControls[a];c.setMaskOffset(this.resetCurrentOffsetX,this.resetCurrentOffsetY);0==this.resetCurrentOffsetX&&0==this.resetCurrentOffsetY&&(c.mask.style.display="none")}0!=this.resetCurrentOffsetX||0!=this.resetCurrentOffsetY?qcodo.setTimeout("move_mask_return","qcodo.wrappers['"+this.id+"'].resetMaskHelper()",10):qcodo.moveHandleReset=null},b.resetMasksCancel=function(){qcodo.clearTimeout("move_mask_return");
qcodo.moveHandleReset=null;for(var a in this.moveControls)this.moveControls[a].mask.style.display="none"},b.regMT=b.registerMoveTarget,b.regDZ=b.registerDropZone,b.regDZG=b.registerDropZoneGrouping)}};
qcodo.animateMove=function(a,b,d,c){if(a=qcodo.getControl(a))a.destinationX=b,a.destinationY=d,b=qcodo.getAbsolutePosition(a),a.currentX=1*b.x,a.currentY=1*b.y,b=Math.sqrt(Math.pow(a.destinationY-a.currentY,2)+Math.pow(a.destinationX-a.currentX,2)),d=1*a.destinationY-a.currentY,a.stepMoveX=1*c/b*(1*a.destinationX-a.currentX),a.stepMoveY=1*c/b*d,qcodo.setTimeout(a,"qcodo.handleAnimateMove('"+a.id+"');",10)};
qcodo.handleAnimateMove=function(a){if(a=qcodo.getControl(a))a.currentX=0>a.stepMoveX?Math.max(a.destinationX,a.currentX+a.stepMoveX):Math.min(a.destinationX,a.currentX+a.stepMoveX),a.currentY=0>a.stepMoveY?Math.max(a.destinationY,a.currentY+a.stepMoveY):Math.min(a.destinationY,a.currentY+a.stepMoveY),qcodo.setAbsolutePosition(a,Math.round(a.currentX),Math.round(a.currentY)),Math.round(a.currentX)==a.destinationX&&Math.round(a.currentY)==a.destinationY?a.handleAnimateComplete&&a.handleAnimateComplete(a):
qcodo.setTimeout(a,"qcodo.handleAnimateMove('"+a.id+"');",10)};
qcodo.handleScroll=function(){var a=qcodo.scrollMoveHandle;qcodo.clearTimeout(a.id);var b=0,d=0;if(30>=qcodo.client.y)var c=qcodo.isBrowser(qcodo.IE)?1.5:3,d=Math.round((qcodo.client.y-30)/c);else qcodo.client.y>=qcodo.client.height-30&&(c=qcodo.isBrowser(qcodo.IE)?1.5:3,d=Math.round((qcodo.client.y-(qcodo.client.height-30))/c));30>=qcodo.client.x?(c=qcodo.isBrowser(qcodo.IE)?1:2,b=Math.round((qcodo.client.x-30)/c)):qcodo.client.x>=qcodo.client.width-30&&(c=qcodo.isBrowser(qcodo.IE)?1:2,b=Math.round((qcodo.client.x-
(qcodo.client.width-30))/c));0>b?b=Math.max(b,0-qcodo.scroll.x):0<b&&(b=Math.min(b,qcodo.scroll.width-qcodo.scroll.x));0>d?d=Math.max(d,0-qcodo.scroll.y):0<d&&(d=Math.min(d,qcodo.scroll.height-qcodo.scroll.y));window.scrollBy(b,d);qcodo.handleEvent(null);a.offsetX-=b;a.offsetY-=d;a.moveMasks();(b||d)&&qcodo.setTimeout(a.id,"qcodo.handleScroll()",25)};qc.regCM=qcodo.registerControlMoveable;qc.regCMH=qcodo.registerControlMoveHandle;qcodo.registerControlResizeHandle=function(a,b){var d;if(d=qcodo.getControl(a)){var c=d.wrapper;c.resizeHandle=!0;c.resizeDirectionVertical=b;c.resizeUpperControls=[];c.resizeLowerControls=[];c.handle?c.updateHandle():(qcodo.isBrowser(qcodo.SAFARI)||qcodo.isBrowser(qcodo.CHROME)?qcodo.registerControlHandle(d,"move"):qcodo.isBrowser(qcodo.IE)?c.resizeDirectionVertical?qcodo.registerControlHandle(d,"row-resize"):qcodo.registerControlHandle(d,"col-resize"):c.resizeDirectionVertical?qcodo.registerControlHandle(d,
"ns-resize"):qcodo.registerControlHandle(d,"ew-resize"),qcodo.enableMouseDrag(),c.handleMouseDown=function(a,c){this.startUpperSizes=[];this.startLowerSizes=[];this.startLowerPositions=[];if(this.resizeDirectionVertical){this.offsetY=qcodo.page.y-this.getAbsolutePosition().y;this.startDragY=qcodo.page.y;for(var b=0;b<this.resizeUpperControls.length;b++){var d=this.resizeUpperControls[b];this.startUpperSizes[b]=eval(d.control.style.height.replace(/px/,""))}for(b=0;b<this.resizeLowerControls.length;b++)d=
this.resizeLowerControls[b],this.startLowerPositions[b]=d.getAbsolutePosition().y,this.startLowerSizes[b]=eval(d.control.style.height.replace(/px/,""));this.resizeMinimumY=null!=this.resizeMinimum?this.getAbsolutePosition().y-(this.offsetTop-this.resizeMinimum):null;this.resizeMaximumY=null!=this.resizeMaximum?this.getAbsolutePosition().y-(this.offsetTop-this.resizeMaximum):null}else{this.offsetX=qcodo.page.x-this.getAbsolutePosition().x;this.startDragX=qcodo.page.x;for(b=0;b<this.resizeUpperControls.length;b++)d=
this.resizeUpperControls[b],this.startUpperSizes[b]=eval(d.control.style.width.replace(/px/,""));for(b=0;b<this.resizeLowerControls.length;b++)d=this.resizeLowerControls[b],this.startLowerPositions[b]=d.getAbsolutePosition().x,this.startLowerSizes[b]=eval(d.control.style.width.replace(/px/,""));this.resizeMinimumX=null!=this.resizeMinimum?this.getAbsolutePosition().x-(this.offsetLeft-this.resizeMinimum):null;this.resizeMaximumX=null!=this.resizeMaximum?this.getAbsolutePosition().x-(this.offsetLeft-
this.resizeMaximum):null}return qcodo.terminateEvent(a)},c.handleMouseMove=function(a,c){if(this.resizeDirectionVertical){var b=qcodo.page.y-this.offsetY;null!=this.resizeMinimumY&&(b=Math.max(b,this.resizeMinimumY));null!=this.resizeMaximumY&&(b=Math.min(b,this.resizeMaximumY));var d=b-this.startDragY+this.offsetY;this.setAbsolutePosition(this.getAbsolutePosition().x,b);for(b=0;b<this.resizeUpperControls.length;b++){var h=this.resizeUpperControls[b];h.updateStyle("height",this.startUpperSizes[b]+
d+"px")}for(b=0;b<this.resizeLowerControls.length;b++)h=this.resizeLowerControls[b],h.setAbsolutePosition(h.getAbsolutePosition().x,this.startLowerPositions[b]+d),h.updateStyle("height",this.startLowerSizes[b]-d+"px")}else{b=qcodo.page.x-this.offsetX;null!=this.resizeMinimumX&&(b=Math.max(b,this.resizeMinimumX));null!=this.resizeMaximumX&&(b=Math.min(b,this.resizeMaximumX));d=b-this.startDragX+this.offsetX;this.setAbsolutePosition(b,this.getAbsolutePosition().y);for(b=0;b<this.resizeUpperControls.length;b++)h=
this.resizeUpperControls[b],h.updateStyle("width",this.startUpperSizes[b]+d+"px");for(b=0;b<this.resizeLowerControls.length;b++)h=this.resizeLowerControls[b],h.setAbsolutePosition(this.startLowerPositions[b]+d,h.getAbsolutePosition().y),h.updateStyle("width",this.startLowerSizes[b]-d+"px")}this.updateHandle(!1);return qcodo.terminateEvent(a)},c.handleMouseUp=function(a,b){var c=!0;this.resizeDirectionVertical?this.startDragY==qcodo.page.y&&(c=!1):this.startDragX==qcodo.page.x&&(c=!1);return c?(this.updateHandle(!0),
this.control.getAttribute("onqcodoresize")&&(this.control.qcodoresize=function(a){eval(a)},this.control.qcodoresize(this.control.getAttribute("onqcodoresize"))),qcodo.terminateEvent(a)):this.control.onclick?this.control.onclick(a):!0},c.setUpperControl=function(a){if(a=qcodo.getControl(a))this.resizeUpperControls[this.resizeUpperControls.length]=a.wrapper},c.setLowerControl=function(a){if(a=qcodo.getControl(a))this.resizeLowerControls[this.resizeLowerControls.length]=a.wrapper},c.resizeMinimum=null,
c.resizeMaximum=null,c.setResizeMinimum=function(a){this.resizeMinimum=a},c.setResizeMaximum=function(a){this.resizeMaximum=a},c.setUC=c.setUpperControl,c.setLC=c.setLowerControl,c.setReMi=c.setResizeMinimum,c.setReMa=c.setResizeMaximum)}};qc.regCRH=qcodo.registerControlResizeHandle;qcodo.registerImageRollover=function(a,b,d,c){qcodo.handleEvent();if(a=qcodo.getControl(a)){var e=a.wrapper;e.standardImageSource=b;e.hoverImageSource=d;e.imageElement=c?qcodo.getControl(a.id+"_img"):a;e.handleMouseOver=function(a){qcodo.handleEvent(a);a=this.wrapper;var b=a.imageElement,c=b.width,d=b.height;b.src=a.hoverImageSource;b.width=c;b.height=d};e.handleMouseOut=function(a){qcodo.handleEvent(a);a=this.wrapper;a.imageElement.src=a.standardImageSource};document.createElement("img").src=d;a.onmouseover=
e.handleMouseOver;a.onmouseout=e.handleMouseOut}};qc.regIR=qcodo.registerImageRollover;qcodo.dateTimePickerChange=function(a,b){var d=document.getElementById(a+"_lstMonth"),c=document.getElementById(a+"_lstDay"),e=document.getElementById(a+"_lstYear");if(""==b.options[b.selectedIndex].value){d.selectedIndex=0;for(e.selectedIndex=0;c.options.length;)c.options[c.options.length-1]=null;c.options[0]=new Option("--","");c.selectedIndex=0}else if(b==d||b==e&&2==d.options[d.selectedIndex].value){var f=c.options[c.selectedIndex].value,g=c.options[c.options.length-1].value,k=0,d=d.options[d.selectedIndex].value;
(e=new Number(e.options[e.selectedIndex].value))||(e=2E3);switch(d){case "1":case "3":case "5":case "7":case "8":case "10":case "12":k=31;break;case "4":case "6":case "9":case "11":k=30;break;case "2":k=0!=e%4?28:0==e%1E3?29:0==e%100?28:29}if(k!=g){g=!0;for(""==c.options[0].value&&(g=!1);c.options.length;)c.options[c.options.length-1]=null;g||(c.options[0]=new Option("--",""));for(e=1;e<=k;e++)c.options[c.options.length]=new Option(e,e);f=Math.min(f,k);g?c.options[f-1].selected=!0:c.options[f].selected=
!0}}};qc.dtpChange=qcodo.dateTimePickerChange;qcodo.monthNames="January February March April May June July August September October November December".split(" ");qcodo.monthNamesAbbreviated="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");qcodo.dayNames="Su Mo Tu We Th Fr Sa".split(" ");qcodo.dateTimeTranslated=!1;
qcodo.registerCalendar=function(a,b,d,c,e){qcodo.handleEvent();var f;if(f=qcodo.getControl(a)){f.dateTimeTextBox=qcodo.getControl(b);f.calendarPane=document.getElementById(f.id+"_cal");f.calendarPane.style.display="none";f.todayText=d;f.cancelText=c;if(e){for(a=0;12>a;a++)qcodo.monthNamesAbbreviated[a]!=e[1][a]&&(qcodo.dateTimeTranslated=!0);qcodo.monthNames=e[0];qcodo.monthNamesAbbreviated=e[1];qcodo.dayNames=e[2]}f.showCalendar=function(){qcodo.openCalendar&&qcodo.getControl(qcodo.openCalendar).hideCalendar();
qcodo.openCalendar=f.id;var a=this.wrapper.getAbsolutePosition();this.calendarPane.style.position="absolute";this.calendarPane.style.zIndex=10;this.calendarPane.style.display="block";this.drawCalendar(0,0);this.wrapper.setAbsolutePosition(a.x,a.y)};f.setDate=function(a,b,c){qcodo.dateTimeTranslated?(b++,10>b&&(b="0"+b),this.dateTimeTextBox.value=a+"-"+b+"-"+c):this.dateTimeTextBox.value=qcodo.monthNamesAbbreviated[b]+" "+c+" "+a;if(this.dateTimeTextBox.onchange)this.dateTimeTextBox.onchange();if(this.dateTimeTextBox.onblur)this.dateTimeTextBox.onblur();
this.hideCalendar()};f.setToToday=function(){var a=new Date;this.setDate(a.getFullYear(),a.getMonth(),a.getDate())};f.drawCalendar=function(a,b){var c;this.dateTimeTextBox.value&&(c=new Date(this.dateTimeTextBox.value));var d=new Date,e;e=a?new Date(a,b,1):c&&"Invalid Date"!=c?new Date(c):new Date;e.setDate(1);var f=e.getMonth(),r=e.getFullYear(),l='<table border="0" cellspacing="0"><thead><tr>',m;for(m in qcodo.dayNames)l+="<th>"+qcodo.dayNames[m]+"</th>";l+="</tr></thead>";for(m=e.getDay();0<m;m--)e.setDate(e.getDate()-
1);for(var u=0;6>u;u++){l+="<tr>";for(m=0;7>m;m++){var p=5==u?"lastRow ":"";e.getDate()==d.getDate()&&e.getMonth()==d.getMonth()&&e.getFullYear()==d.getFullYear()&&(p+="today ");c&&e.getDate()==c.getDate()&&e.getMonth()==c.getMonth()&&e.getFullYear()==c.getFullYear()&&(p+="selected ");e.getMonth()!=f&&(p+="nonMonth");p&&(p=' class="'+p+'"');l+="<td"+p+'><a href="#" onclick="qc.getC(\''+this.id+"').setDate("+e.getFullYear()+","+e.getMonth()+","+e.getDate()+');return false;">'+e.getDate()+"</a></td>";
e.setDate(e.getDate()+1)}l+="</tr>"}e=f-1;m=r;-1==e&&(e=11,m--);c=f+1;d=r;12==c&&(c=0,d++);e='<div class="navigator">'+('<div class="left"><a href="#" onclick="qc.getC(\''+this.id+"').drawCalendar("+(m+","+e)+');return false;">&laquo;</a></div>');e+='<div class="month">'+qcodo.monthNames[f]+"</div>";e+='<div class="left"><a href="#" onclick="qc.getC(\''+this.id+"').drawCalendar("+(d+","+c)+');return false;">&raquo;</a></div>';e+='<div class="year"><a href="#" onclick="qc.getC(\''+this.id+"').drawCalendar("+
(r-1+","+f)+');return false;">&laquo;</a>';e=e+("<span>"+r+"</span>")+('<a href="#" onclick="qc.getC(\''+this.id+"').drawCalendar("+(r+1+","+f)+');return false;">&raquo;</a></div>');e+="</div>";f='<div class="options">'+('<a href="#" onclick="qc.getC(\''+this.id+"').setToToday(); return false;\">&quot;"+this.todayText+"&quot;</a> &nbsp; &nbsp; ");f+='<a href="#" onclick="qc.getC(\''+this.id+"').hideCalendar(); return false;\">"+this.cancelText+"</a></div>";this.calendarPane.innerHTML=e+(l+"</table>")+
f};f.hideCalendar=function(){qcodo.openCalendar=null;this.calendarPane.style.display="none"};f.onclick=f.showCalendar}};qc.regCAL=qcodo.registerCalendar;function __calendar(a,b){popCal=window.open(qc.phpAssets+"/_core/calendar.php?strFormId="+a+"&strId="+b+"&intTimestamp="+document.forms[a].elements[b+"_intTimestamp"].value,"popCal","width=165,height=228,left=200,top=250");window.focus&&popCal.focus()}function __resetCalendar(a,b){document.forms[a].elements[b+"_intTimestamp"].value="";document.forms[a].elements[b].value="";if(document.forms[a].elements[b].onchange)document.forms[a].elements[b].onchange()};
